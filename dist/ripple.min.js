/*
legitRipple.js v1.0.0 (ISC license)
ripple.min.js, compiled: 11/10/2015 @ 14:30:12
*/
!function(t){t.fn.ripple=function(n,i){var e,o,a,s,r,p,l,u=20,d="ontouchstart"in window||"onmsgesturechange"in window,c=(d?"touchstart":"mousedown")+".ripple",f=(d?"touchmove":"mousemove")+".ripple",h=function(t){return d&&(t=t.originalEvent.touches[0]),[t.pageX,t.pageY]};if(this.off(".ripple").data("unbound",!0),n&&n.unbind)return this;this.addClass("legitRipple").removeData("unbound").on(c,function(n){o=t(this),m(h(n))}).on("dragstart.ripple",function(t){e.allowDragging||t.preventDefault()}),t(document).on(f,function(t){o&&!o.data("unbound")&&g(h(t))}).on("mouseup.ripple touchend.ripple",function(t){!o||1!=t.which&&!d||o.data("unbound")||w()}),t(window).on("scroll.ripple",function(){o&&!o.data("unbound")&&w()});var m=function(n){e={},l=0,a=[o.outerWidth(),o.outerHeight()],v(),p=n,r=t("<span/>"),e.hasCustomRipple&&o.clone().children(".legitRipple-custom").last().removeClass("legitRipple-custom").appendTo(r),r.addClass("legitRipple-ripple").appendTo(o),x(n,!1),s=r.css("transition");var i=r.css("transition-duration").split(",");r.css("transition-duration",[7*parseFloat(i)+"s"].concat(i.slice(1)).join(",")).css("width",e.maxDiameter)},g=function(t){var n;if(l++,"proportional"==e.scaleMode){var i=Math.pow(l,l/100*5);n=i>40?40:i}else if("fixed"==e.scaleMode&&Math.abs(t[1]-p[1])>6)return void w();x(t,n)},w=function(){r.css("transition","all 0s linear 0s").css("width",r.css("width")).css("transition",s),setTimeout(function(){r.css("width",e.maxDiameter).css("opacity","0")},u),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).data("firstTransitionEnded")?t(this).off().remove():t(this).data("firstTransitionEnded",!0)}),o=null},v=function(){var i={dragging:!0,adaptPos:function(){return e.dragging},maxDiameter:function(){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))/o.outerWidth()*(e.adaptPos?100:200)+1+"%"},scaleMode:"fixed",hasCustomRipple:!1,allowDragging:!1};n=n||{},t.each(i,function(t,i){e[t]=n.hasOwnProperty(t)?n[t]:"function"==typeof i?i():i})},x=function(n,s){var p=[],u=[(n[0]-o.offset().left)/a[0],(n[1]-o.offset().top)/a[1]],d=[.5-u[0],.5-u[1]],c=[100/parseFloat(e.maxDiameter),100/parseFloat(e.maxDiameter)*(a[1]/a[0])],f=[d[0]*c[0],d[1]*c[1]],h=e.dragging||0===l;if(h&&"inline"==o.css("display")){var m=t("<span/>").text("Hi!").css("font-size",0).prependTo(o),g=m.offset().left;m.remove(),p=[n[0]-g+"px",n[1]-o.offset().top+"px"]}h&&(p=[p[0]||100*u[0]+"%",p[1]||100*u[1]+"%"],r.css("left",p[0]).css("top",p[1])),r.css("transform","translate3d(-50%, -50%, 0)"+(e.adaptPos?"translate3d("+100*f[0]+"%, "+100*f[1]+"%, 0)":"")+(s?"scale("+s+")":"")),i&&i(o,r,u,parseFloat(e.maxDiameter)/100)};return this},t.ripple=function(n){t.each(n,function(n,i){t(n).ripple(i[0]||i,i[1])})},t.ripple.destroy=function(){t(".legitRipple").removeClass("legitRipple").add(window).add(document).off(".ripple"),t(".legitRipple-ripple").remove(),$active=null}}(jQuery);