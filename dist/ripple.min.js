/*
legitRipple.js v1.0.0 (ISC license)
ripple.min.js, compiled: 9/10/2015 @ 3:14:52
*/
!function(t){t.fn.ripple=function(n,i){var a,e,o,s,r,p,c,l=20,d="ontouchstart"in window||"onmsgesturechange"in window,u=d?"touchstart":"mousedown";this.off(u+" dragstart.ripple").addClass("legitRipple").on(u,function(n){console.log("down"),e=t(this),"touchstart"==n.type&&(n.pageX=n.originalEvent.touches[0].pageX,n.pageY=n.originalEvent.touches[0].pageY),f(n.pageX,n.pageY)}).on("dragstart.ripple",function(t){a.allowDragging||t.preventDefault()}),t(document).on("mousemove",function(t){e&&g(t.pageX,t.pageY)}).on("mouseup",function(t){e&&(1==t.which||d)&&h()}),t(window).on("scroll",function(){console.log("awd"),e&&h()});var f=function(n,i){a={},c=0,o=[e.outerWidth(),e.outerHeight()],m(),p=[n,i],r=t("<span/>"),a.hasCustomRipple&&e.clone().children(".legitRipple-custom").last().removeClass("legitRipple-custom").appendTo(r),r.addClass("legitRipple-ripple").appendTo(e),w(n,i,!1),s=r.css("transition");var l=r.css("transition-duration").split(",");r.css("transition-duration",[7*parseFloat(l)+"s"].concat(l.slice(1)).join(",")).css("width",a.maxDiameter)},g=function(t,n){var i;if(c++,"proportional"==a.scaleMode){var e=Math.pow(c,c/100*5);i=e>40?40:e}else if("fixed"==a.scaleMode&&Math.abs(n-p[1])>6)return void h();w(t,n,i)},h=function(){r.css("transition","all 0s linear 0s").css("width",r.css("width")).css("transition",s),setTimeout(function(){r.css("width",a.maxDiameter).css("opacity","0")},l),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).data("firstTransitionEnded")?t(this).off().remove():t(this).data("firstTransitionEnded",!0)}),e=null},m=function(){var i={dragging:!0,adaptPos:function(){return a.dragging},maxDiameter:function(){return Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2))/e.outerWidth()*(a.adaptPos?100:200)+1+"%"},scaleMode:"fixed",hasCustomRipple:!1,allowDragging:!1};n=n||{},t.each(i,function(t,i){a[t]=n.hasOwnProperty(t)?n[t]:"function"==typeof i?i():i})},w=function(n,s,p){var l=[],d=[(n-e.offset().left)/o[0],(s-e.offset().top)/o[1]],u=[.5-d[0],.5-d[1]],f=[100/parseFloat(a.maxDiameter),100/parseFloat(a.maxDiameter)*(o[1]/o[0])],g=[u[0]*f[0],u[1]*f[1]],h=a.dragging||0===c;if(h&&"inline"==e.css("display")){var m=t("<span/>").text("Hi!").css("font-size",0).prependTo(e),w=m.offset().left;m.remove(),l[0]=n-w+"px"}h&&(l=[l[0]||100*d[0]+"%",100*d[1]+"%"],r.css("left",l[0]).css("top",l[1])),r.css("transform","translate3d(-50%, -50%, 0)"+(a.adaptPos?"translate3d("+100*g[0]+"%, "+100*g[1]+"%, 0)":"")+(p?"scale("+p+")":"")),i&&i(e,r,d,parseFloat(a.maxDiameter)/100)};return this},t.ripple=function(n){t.each(n,function(n,i){t(n).ripple(i[0]||i,i[1])})}}(jQuery);