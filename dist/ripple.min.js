/*
legitRipple.js v1.0.0 (ISC license)
ripple.min.js, compiled: 9/10/2015 @ 2:08:10
*/
!function(t){t.fn.ripple=function(e,n){var o,i,a,s,r,p,l,c=20;this.off("mousedown.ripple touchstart.ripple dragstart.ripple").on("mousedown.ripple touchstart.ripple",function(e){i=t(this),i.addClass("legitRipple"),"touchstart"==e.type&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),d(e.pageX,e.pageY)}).on("dragstart.ripple",function(t){o.allowDragging||t.preventDefault()}),t(document).on("mousemove",function(t){i&&u(t.pageX,t.pageY)}).on("mouseup",function(t){i&&1==t.which&&f()}),t(window).on("scroll",function(){console.log("awd"),i&&f()});var d=function(e,n){o={},l=0,a=[i.outerWidth(),i.outerHeight()],g(),p=[e,n],r=t("<span/>"),o.hasCustomRipple&&i.clone().children(".legitRipple-custom").last().removeClass("legitRipple-custom").appendTo(r),r.addClass("legitRipple-ripple").appendTo(i),h(e,n,!1),s=r.css("transition");var c=r.css("transition-duration").split(",");r.css("transition-duration",[7*parseFloat(c)+"s"].concat(c.slice(1)).join(",")).css("width",o.maxDiameter)},u=function(t,e){var n;if(l++,"proportional"==o.scaleMode){var i=Math.pow(l,l/100*5);n=i>40?40:i}else if("fixed"==o.scaleMode&&Math.abs(e-p[1])>6)return void f();h(t,e,n)},f=function(){r.css("transition","all 0s linear 0s").css("width",r.css("width")).css("transition",s),setTimeout(function(){r.css("width",o.maxDiameter).css("opacity","0")},c),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).data("firstTransitionEnded")?t(this).off().remove():t(this).data("firstTransitionEnded",!0)}),i=null},g=function(){var n={dragging:!0,adaptPos:function(){return o.dragging},maxDiameter:function(){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))/i.outerWidth()*(o.adaptPos?100:200)+1+"%"},scaleMode:"fixed",hasCustomRipple:!1,allowDragging:!1};e=e||{},t.each(n,function(t,n){o[t]=e.hasOwnProperty(t)?e[t]:"function"==typeof n?n():n}),console.log("passed options:",e),console.log("rendered options:",o)},h=function(e,s,p){var c=[],d=[(e-i.offset().left)/a[0],(s-i.offset().top)/a[1]],u=[.5-d[0],.5-d[1]],f=[100/parseFloat(o.maxDiameter),100/parseFloat(o.maxDiameter)*(a[1]/a[0])],g=[u[0]*f[0],u[1]*f[1]],h=o.dragging||0===l;if(h&&"inline"==i.css("display")){var m=t("<span/>").text("Hi!").css("font-size",0).prependTo(i),w=m.offset().left;m.remove(),c[0]=e-w+"px"}h&&(c=[c[0]||100*d[0]+"%",100*d[1]+"%"],r.css("left",c[0]).css("top",c[1])),r.css("transform","translate3d(-50%, -50%, 0)"+(o.adaptPos?"translate3d("+100*g[0]+"%, "+100*g[1]+"%, 0)":"")+(p?"scale("+p+")":"")),n&&n(i,r,d,parseFloat(o.maxDiameter)/100)};return this},t.ripple=function(e){t.each(e,function(e,n){t(e).ripple(n[0]||n,n[1])})}}(jQuery);