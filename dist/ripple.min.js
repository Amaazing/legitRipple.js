/*
legitRipple.js v1.0.0, Copyright by Matthias Vogt (ISC license)
ripple.min.js, compiled: 15/10/2015 @ 18:36:31
*/
!function(t){t.fn.ripple=function(n,e){var i,o,a,s,r,p,l="ontouchstart"in window||"onmsgesturechange"in window,u=function(t,n){return(l?"touch"+t:"mouse"+n)+".ripple"},d=function(t){return l?t.originalEvent.touches.length:0},c=function(t){return l&&(t=t.originalEvent.touches[0]),[t.pageX,t.pageY]};if(this.off(".ripple").data("unbound",!0),n&&n.unbind)return this;this.addClass("legitRipple").removeData("unbound").on(u("start","down"),function(n){d(n)<=1&&(o=t(this),f(c(n)))}).on("dragstart.ripple",function(t){i.allowDragging||t.preventDefault()}),t(document).on(u("move","move"),function(t){o&&!o.data("unbound")&&d(t)<=1&&m(c(t))}).on(u("end","up"),function(t){!o||o.data("unbound")||d(t)||h()}).on("contextmenu.ripple",function(n){"WebkitAppearance"in document.documentElement.style&&t(document).trigger("mouseup.ripple")}),t(window).on("scroll.ripple blur.ripple",function(){o&&!o.data("unbound")&&h()});var f=function(n){i={},p=0,a=[o.outerWidth(),o.outerHeight()],g(),r=n,s=t("<span/>"),i.hasCustomRipple&&o.clone().children(".legitRipple-custom").last().removeClass("legitRipple-custom").appendTo(s),s.addClass("legitRipple-ripple").appendTo(o),w(n,!1);var e=s.css("transition-duration").split(",");s.css("transition-duration",[5.5*parseFloat(e)+"s"].concat(e.slice(1)).join(",")).css("width",i.maxDiameter)},m=function(t){var n;if(p++,"proportional"==i.scaleMode){var e=Math.pow(p,p/100*5);n=e>40?40:e}else if("fixed"==i.scaleMode&&Math.abs(t[1]-r[1])>6)return void h();w(t,n)},h=function(){s.css("width",s.css("width")).css("transition","none").css("transition","").css("width",s.css("width")).css("width",i.maxDiameter).css("opacity","0"),o=null,s.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).data("firstEnded")?t(this).off().remove():t(this).data("firstEnded",!0)})},g=function(){var e={dragging:!0,adaptPos:function(){return i.dragging},maxDiameter:function(){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))/o.outerWidth()*(i.adaptPos?100:200)+1+"%"},scaleMode:"fixed",hasCustomRipple:!1,allowDragging:!1};n=n||{},t.each(e,function(t,e){i[t]=n.hasOwnProperty(t)?n[t]:"function"==typeof e?e():e})},w=function(n,r){var l=[],u=[(n[0]-o.offset().left)/a[0],(n[1]-o.offset().top)/a[1]],d=[.5-u[0],.5-u[1]],c=[100/parseFloat(i.maxDiameter),100/parseFloat(i.maxDiameter)*(a[1]/a[0])],f=[d[0]*c[0],d[1]*c[1]],m=i.dragging||0===p;if(m&&"inline"==o.css("display")){var h=t("<span/>").text("Hi!").css("font-size",0).prependTo(o),g=h.offset().left;h.remove(),l=[n[0]-g+"px",n[1]-o.offset().top+"px"]}m&&(l=[l[0]||100*u[0]+"%",l[1]||100*u[1]+"%"],s.css("left",l[0]).css("top",l[1])),s.css("transform","translate3d(-50%, -50%, 0)"+(i.adaptPos?"translate3d("+100*f[0]+"%, "+100*f[1]+"%, 0)":"")+(r?"scale("+r+")":"")),e&&e(o,s,u,parseFloat(i.maxDiameter)/100)};return this},t.ripple=function(n){t.each(n,function(n,e){t(n).ripple(e[0]||e,e[1])})},t.ripple.destroy=function(){t(".legitRipple").removeClass("legitRipple").add(window).add(document).off(".ripple"),t(".legitRipple-ripple").remove(),$active=null}}(jQuery);