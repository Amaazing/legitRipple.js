/*
legitRipple.js v1.0.0 (ISC license)
ripple.min.js, compiled: 10/10/2015 @ 21:35:27
*/
!function(t){t.fn.ripple=function(n,i){var o,e,s,a,r,c,l,p=20,u="ontouchstart"in window||"onmsgesturechange"in window,d=u?"touchstart":"mousedown",f=function(t){return u&&(t=t.originalEvent.touches[0]),[t.pageX,t.pageY]};this.off(d+" dragstart.ripple").addClass("legitRipple").on(d,function(n){e=t(this),h(f(n))}).on("dragstart.ripple",function(t){o.allowDragging||t.preventDefault()}),t(document).on("mousemove touchmove",function(t){e&&g(f(t))}).on("mouseup touchend",function(t){e&&(1==t.which||u)&&m()}),t(window).on("scroll",function(){console.log("scroll"),e&&m()});var h=function(n){o={},l=0,s=[e.outerWidth(),e.outerHeight()],w(),c=n,r=t("<span/>"),o.hasCustomRipple&&e.clone().children(".legitRipple-custom").last().removeClass("legitRipple-custom").appendTo(r),r.addClass("legitRipple-ripple").appendTo(e),v(n,!1),a=r.css("transition");var i=r.css("transition-duration").split(",");r.css("transition-duration",[7*parseFloat(i)+"s"].concat(i.slice(1)).join(",")).css("width",o.maxDiameter)},g=function(t){var n;if(l++,"proportional"==o.scaleMode){var i=Math.pow(l,l/100*5);n=i>40?40:i}else if("fixed"==o.scaleMode&&Math.abs(t[1]-c[1])>6)return void m();v(t,n)},m=function(){r.css("transition","all 0s linear 0s").css("width",r.css("width")).css("transition",a),setTimeout(function(){r.css("width",o.maxDiameter).css("opacity","0")},p),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){t(this).data("firstTransitionEnded")?t(this).off().remove():t(this).data("firstTransitionEnded",!0)}),e=null},w=function(){var i={dragging:!0,adaptPos:function(){return o.dragging},maxDiameter:function(){return Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2))/e.outerWidth()*(o.adaptPos?100:200)+1+"%"},scaleMode:"fixed",hasCustomRipple:!1,allowDragging:!1};n=n||{},t.each(i,function(t,i){o[t]=n.hasOwnProperty(t)?n[t]:"function"==typeof i?i():i})},v=function(n,a){var c=[],p=[(n[0]-e.offset().left)/s[0],(n[1]-e.offset().top)/s[1]],u=[.5-p[0],.5-p[1]],d=[100/parseFloat(o.maxDiameter),100/parseFloat(o.maxDiameter)*(s[1]/s[0])],f=[u[0]*d[0],u[1]*d[1]],h=o.dragging||0===l;if(h&&"inline"==e.css("display")){var g=t("<span/>").text("Hi!").css("font-size",0).prependTo(e),m=g.offset().left;g.remove(),c=[n[0]-m+"px",n[1]-e.offset().top+"px"]}h&&(c=[c[0]||100*p[0]+"%",c[1]||100*p[1]+"%"],r.css("left",c[0]).css("top",c[1])),r.css("transform","translate3d(-50%, -50%, 0)"+(o.adaptPos?"translate3d("+100*f[0]+"%, "+100*f[1]+"%, 0)":"")+(a?"scale("+a+")":"")),i&&i(e,r,p,parseFloat(o.maxDiameter)/100)};return this},t.ripple=function(n){t.each(n,function(n,i){t(n).ripple(i[0]||i,i[1])})}}(jQuery);